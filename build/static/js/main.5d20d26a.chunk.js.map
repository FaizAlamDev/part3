{"version":3,"sources":["components/PersonForm.js","components/Person.js","components/Filter.js","components/Notification.js","components/Error.js","services/persons.js","App.js","index.js"],"names":["PersonForm","props","onSubmit","handleForm","value","newName","onChange","handleName","newNumber","handleNumber","type","Person","person","handleClick","name","number","onClick","Filter","Notification","message","className","Error","error","baseUrl","obj","getAll","axios","get","then","response","data","create","personObject","post","remove","id","delete","update","put","App","useState","persons","setPersons","setNewName","setNewNumber","filterName","setFilterName","setMessage","setError","useEffect","personService","arr","e","target","preventDefault","flag","forEach","window","confirm","newPerson","returnedPerson","map","p","setTimeout","catch","filter","concat","toLowerCase","includes","find","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5d20d26a.chunk.js","sourcesContent":["import React from 'react'\n\nconst PersonForm = (props) => {\n\treturn (\n\t\t<form onSubmit={props.handleForm}>\n\t\t\t<div>\n\t\t\t\tname:{' '}\n\t\t\t\t<input value={props.newName} onChange={props.handleName} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\tnumber:{' '}\n\t\t\t\t<input value={props.newNumber} onChange={props.handleNumber} />\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<button type='submit'>add</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, handleClick }) => {\n\treturn (\n\t\t<div key={person.name}>\n\t\t\t{person.name} {person.number}{' '}\n\t\t\t<button onClick={handleClick}>delete</button>\n\t\t</div>\n\t)\n}\n\nexport default Person\n","import React from 'react'\n\nconst Filter = ({ value, onChange }) => {\n\treturn (\n\t\t<div>\n\t\t\tfilter shown with <input value={value} onChange={onChange} />\n\t\t</div>\n\t)\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Notification = ({ message }) => {\n\tif (message === null) {\n\t\treturn null\n\t}\n\treturn <div className='msg'>{message}</div>\n}\n\nexport default Notification\n","import React from 'react'\n\nconst Error = ({ error }) => {\n\tif (error === null) {\n\t\treturn null\n\t}\n\treturn <div className='error'>{error}</div>\n}\n\nexport default Error\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then((response) => response.data)\n}\n\nconst create = (personObject) => {\n\tconst request = axios.post(baseUrl, personObject)\n\treturn request.then((response) => response.data)\n}\n\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then((response) => response.data)\n}\n\nconst update = (id, personObject) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, personObject)\n\treturn request.then((response) => response.data)\n}\n\nconst obj = { getAll, create, remove, update }\n\nexport default obj\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Person'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\nimport personService from './services/persons'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [filterName, setFilterName] = useState('')\n\tconst [message, setMessage] = useState(null)\n\tconst [error, setError] = useState(null)\n\n\tuseEffect(() => {\n\t\tpersonService.getAll().then((obj) => setPersons(obj))\n\t}, [])\n\n\tconst handleName = (e) => {\n\t\tsetNewName(e.target.value)\n\t}\n\n\tconst handleNumber = (e) => {\n\t\tsetNewNumber(e.target.value)\n\t}\n\n\tconst handleForm = (e) => {\n\t\te.preventDefault()\n\n\t\tlet flag = false,\n\t\t\tid = 0\n\t\tpersons.forEach((person) => {\n\t\t\tif (person.name === newName) {\n\t\t\t\tflag = true\n\t\t\t\tid = person.id\n\t\t\t}\n\t\t})\n\n\t\tif (flag) {\n\t\t\tif (\n\t\t\t\twindow.confirm(\n\t\t\t\t\t`${newName} is already added to phonebook, replace the old number with the new one?`\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tconst newPerson = { name: newName, number: newNumber }\n\t\t\t\tpersonService\n\t\t\t\t\t.update(id, newPerson)\n\t\t\t\t\t.then((returnedPerson) => {\n\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\tpersons.map((p) =>\n\t\t\t\t\t\t\t\tp.id !== id ? p : returnedPerson\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\tsetMessage(`Updated ${newName}'s number`)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t\t}, 5000)\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tsetError(\n\t\t\t\t\t\t\t`Information of ${newName} has already been removed from server`\n\t\t\t\t\t\t)\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetError(null)\n\t\t\t\t\t\t}, 4000)\n\t\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== id))\n\t\t\t\t\t})\n\t\t\t}\n\t\t} else {\n\t\t\tconst person = { name: newName, number: newNumber }\n\t\t\tpersonService\n\t\t\t\t.create(person)\n\t\t\t\t.then((obj) => {\n\t\t\t\t\tsetPersons(persons.concat(obj))\n\t\t\t\t\tsetMessage(`Added ${newName}`)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null)\n\t\t\t\t\t}, 4000)\n\t\t\t\t})\n\t\t\t\t.catch((error) => {\n\t\t\t\t\tsetError(error.response.data.error)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetError(null)\n\t\t\t\t\t}, 4000)\n\t\t\t\t})\n\t\t}\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\t}\n\n\tconst handleFilter = (e) => {\n\t\tsetFilterName(e.target.value)\n\t}\n\n\tconst filterNamesFunction = (arr) =>\n\t\tarr.filter((person) =>\n\t\t\tperson.name.toLowerCase().includes(filterName.toLowerCase())\n\t\t)\n\n\tconst deletePerson = (id) => {\n\t\tconst person = persons.find((p) => p.id === id)\n\t\tif (window.confirm(`Delete ${person.name} ?`)) {\n\t\t\tpersonService.remove(id).then((response) => {\n\t\t\t\tsetPersons(persons.filter((p) => p.id !== id))\n\t\t\t})\n\t\t}\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Error error={error} />\n\t\t\t<Filter value={filterName} onChange={handleFilter} />\n\t\t\t<h2>add a new</h2>\n\t\t\t<PersonForm\n\t\t\t\thandleForm={handleForm}\n\t\t\t\tnewName={newName}\n\t\t\t\thandleName={handleName}\n\t\t\t\tnewNumber={newNumber}\n\t\t\t\thandleNumber={handleNumber}\n\t\t\t/>\n\t\t\t<h2>Numbers</h2>\n\t\t\t{filterNamesFunction(persons).map((person) => (\n\t\t\t\t<Person\n\t\t\t\t\tkey={person.name}\n\t\t\t\t\tperson={person}\n\t\t\t\t\thandleClick={() => deletePerson(person.id)}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</div>\n\t)\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}